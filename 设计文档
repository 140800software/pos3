题目: POS机设计文档
1 问题描述
商店里进行购物结算时会使用收银机（POS）系统，这台收银机会在结算时根据	客户的购物车（Cart）中的商品（Item）进行结算和打印购物清单。我们需要实现一个POS机，实现如下功能：
	   需求01：
该机器能够将指定格式的数据作为参数输入，然后在控制台中输出结算清单的文本。
需求02：
超市为了促销即将过季的商品，需要对这些商品进行打折销售。打折商品的折扣信息
需求03：
由于业务发展，商店进行了系统升级，POS机输入文件发生了变化，同时需要商品索引文件和商品列表文件来生成最终的购物清单：
需求04：
目前商店正在对部分商品进行“买二赠一”的优惠活动。
优惠规则：
•	参加优惠的活动购买件数超过2件（含2件），赠送一件
•	优惠和打折不会同时针对同一款产品.
需求05
POS机需要支持会员特价产品，会员特价商品信息记录在商品索引文件中：
需求06
POS机除了要支持会员特价之外，还需要支持会员积分功能，会员积分会在年末参与换购活动
	
2 分析与总体设计
2.1 类图

 

2.1 类说明
Acountgood类记录从商品索引文件读取的商品属性。
User类记录user的属性。

  
2.2 软件保存格式
pos.exe
2.3参数文件
 
 
 
2.4 输出
 
3 详细设计与知识点分析
3.1 商品索引文件的处理
将商品索引中的商品码取出，同时建立节点将其保存。新建acountgood对象，使这个对象的地址赋值给节点中item指针。一次取出数据，用节点中的next指针相连接，形成链表并返回头指针地址。

3.2 商品列表文件的处理
本文件记录了用户的name和用户购买的商品，包含商品号码和数量。先不处理用户name，读入商品号码后遍历商品索引链表。这个商品号与索引链表里的商品号一致时，建立新的建立新的链表，并记录数量。
	
3.3 user文件的处理
这个文件记录了用户名，是否为VIP用户。读入数据建立user类的对象并连接成链表。商品结算时，需要根据商品列表文件中的内容遍历链表，找到该用户，找出这个用户的信息，当这个用户为VIP用户且商品中有VIP特价商品时，对这些商品进行相应折扣处理。
	
3.4商品结算
通过读取文件，建立了商品的链表信息和用户的链表信息，通过新建立的指针商品指针pt，进行扫描读取的文件信息，有买二赠一活动的商品就进行标识，为了输出该优惠的商品，先遍历一遍算出总价和累计节省的金钱，从而求出本次购买的累计积分。然后，进行二次遍历输出每种商品的购买信息，总价，节省等详细购买信息，得出购物清单。
4 课程设计总结（三号字、黑体）
本小学期课程模拟敏捷软件开发，通过两次迭代，最终实现产品的所有功能的交付。商品类的属性由少到多，操作由简单到复杂，类由一个到两个，主函数有一两百行到几百行，功能逐渐增多。小组成员间，互相协作，设计完善pos机的功能，解决困难的读文件操作，属性操作。考虑了如何封装信息，如何改善可扩展行，如何解决内存泄漏的问题，充分完善了程序。同时，考虑如何把程序做的更为简单，也就是算法更为精简的问题。最后，实现了满足需求的输出结果。
